language: node_js
node_js: stable

cache:
  directories:
    - node_modules

before_deploy:
  - "npm run build"

deploy:
  provider: pages
  skip_cleanup: true
  github_token: $GITHUB_TOKEN
  local_dir: dist
  edge: true
  on:
    branch: master

# after_success: |
#   if [ -n "$GITHUB_API_KEY" ]; then
#     cd "$TRAVIS_BUILD_DIR"
#     # This generates a `web` directory containing the website.
#     make web
#     cd web
#     git init
#     git checkout -b gh-pages
#     git add .
#     git -c user.name='travis' -c user.email='travis' commit -m init
#     # Make sure to make the output quiet, or else the API token will leak!
#     # This works because the API key can replace your password.
#     git push -f -q https://<me>:$GITHUB_API_KEY@github.com/<me>/<myrepo>-gh-pages gh-pages &>/dev/null
#     cd "$TRAVIS_BUILD_DIR"
#   fi
# .ююваывафыва
# .ююваывафыва
